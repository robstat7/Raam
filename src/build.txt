x86_64-elf-gcc boot/fb.c -c -fno-stack-protector -fpic -fshort-wchar -mno-red-zone -I /usr/include/efi -I include/ -DEFI_FUNCTION_WRAPPER -o build/boot/fb.o

x86_64-elf-gcc boot/boot.c -c -fno-stack-protector -fpic -fshort-wchar -mno-red-zone -I /usr/include/efi -I include/ -DEFI_FUNCTION_WRAPPER -o build/boot/boot.o

x86_64-elf-gcc boot/mem.c -c -fno-stack-protector -fpic -fshort-wchar -mno-red-zone -I /usr/include/efi -I include/ -DEFI_FUNCTION_WRAPPER -o build/boot/mem.o

x86_64-elf-gcc boot/main.c -c -fno-stack-protector -fpic -fshort-wchar -mno-red-zone -I /usr/include/efi -I include/ -DEFI_FUNCTION_WRAPPER -o build/boot/main.o

x86_64-elf-gcc init/main.c -c -fno-stack-protector -fpic -fshort-wchar -mno-red-zone -I /usr/include/efi -I include/ -DEFI_FUNCTION_WRAPPER -o build/init/main.o

x86_64-elf-gcc kernel/tty_io.c -c -fno-stack-protector -fpic -fshort-wchar -mno-red-zone -I /usr/include/efi -I include/ -DEFI_FUNCTION_WRAPPER -o build/kernel/tty_io.o

x86_64-elf-gcc -ffreestanding -mcmodel=large -mno-red-zone -mno-mmx -mno-sse -mno-sse2 -I include/ -c kernel/res/font_8x16.c -o build/kernel/res/font_8x16.o

x86_64-elf-ld build/boot/fb.o build/boot/boot.o build/boot/mem.o build/boot/main.o build/init/main.o build/kernel/tty_io.o build/kernel/res/font_8x16.o /home/dileep/gnu-efi/x86_64/gnuefi/crt0-efi-x86_64.o -shared -Bsymbolic -L /home/dileep/gnu-efi/x86_64/lib/ -L /home/dileep/gnu-efi/x86_64/gnuefi/ -T /home/dileep/gnu-efi/gnuefi/elf_x86_64_efi.lds -o build/system.so -lefi -lgnuefi

x86_64-elf-objcopy -j .text -j .sdata -j .data -j .rodata -j .dynamic -j .dynsym -j .rel -j .rela -j .rel.* -j .rela.* -j .reloc --target efi-app-x86_64 --subsystem=10 build/system.so build/BOOTx64.EFI
